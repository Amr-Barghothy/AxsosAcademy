<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dojos & Ninjas</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src=""></script>
</head>

<body>
    <div class="flex w-full justify-center items-center mt-10 mb-10">
        <div class="w-20/100">
            <h1 class="font-bold text-4xl ml-10 mb-10">Add a Dojo</h1>
            <form action="/add_dojo" method="post" class="w-full flex flex-col">
                {% csrf_token %}
                <div class="flex items-center mb-4">
                    <label for="name" class="w-20">Name</label>
                    <input type="text" id="name" name="name" class="border-2">
                </div>
                <div class="flex items-center mb-4">
                    <label for="city" class="w-20">City</label>
                    <input type="text" id="city" name="city" class="border-2">
                </div>
                <div class="flex items-center mb-4">
                    <label for="state" class="w-20">State</label>
                    <input type="text" id="state" name="state" class="border-2">
                </div>
                <button type="submit" class="self-center border-2 border-cyan-600 bg-cyan-300 rounded p-1">Add</button>
            </form>
        </div>
        <div class="/add_ninjas">
            <h1 class="font-bold text-4xl ml-10 mb-10">Add a Ninja</h1>
            <form action="/add_ninjas" method="post" class="w-full flex flex-col">
                {% csrf_token %}
                <div class="flex items-center mb-4">
                    <label for="fname" class="w-30">First Name</label>
                    <input type="text" id="fname" name="fname" class="border-2">
                </div>
                <div class="flex items-center mb-4">
                    <label for="lname" class="w-30 ">Last Name</label>
                    <input type="text" id="lname" name="lname" class="border-2 ">
                </div>
                <div class="flex items-center mb-4">
                    <label for="dojo_select" class="w-30 ">Dojo</label>
                    <select name="dojo_select" id="dojo_select" class="border-2 flex-grow">
                        {% for dojo in dojos %}
                        <option value="{{ dojo.id }}">{{ dojo.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <button type="submit" class="self-center border-2 border-cyan-600 bg-cyan-300 rounded p-1">Add</button>
            </form>
        </div>
    </div>
    <div class="border-2 w-80/100 h-1 mx-auto rounded-full mb-10"></div>
    <div class="flex flex-col items-center justify-center">
        <h2 class="font-bold text-4xl ml-10 mb-10">Add the Dojos</h2>
        {% for dojo in dojos %}
        <div class="flex gap-x-4 items-center">
            <p class="font-bold text-xl">Ninjas at the {{ dojo.name }} dojo</p>
            <p class="font-bold text-lg">{{ dojo.ninjas.count }}</p>
            <form action="/delete" method="post">
                {% csrf_token %}
                <button type="submit" name="delete_dojo"
                        class="bg-red-500 border-2 border-red-600 text-white cursor-pointer" value="{{ dojo.id }}">
                    Delete
                </button>
            </form>
        </div>
        <ul class="list-disc list-inside">
            {% for ninjas in dojo.ninjas.all %}
            <li>{{ ninjas.first_name }} {{ ninjas.last_name }}</li>
            {% endfor %}
        </ul>
        {% endfor %}
    </div>
</body>
</html>
